"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ModuleManger = void 0;
const discord_js_1 = require("discord.js");
const Errors_1 = require("../Errors");
class ModuleManger {
    client;
    registry;
    constructor(client) {
        this.client = client;
        this.registry = new discord_js_1.Collection();
    }
    /**
     * Register a specific module. Likely used to register module's commands and listeners.
     *
     * @param module Module to be registered.
     * @returns {Promise<void>}
     */
    register(module) {
        const moduleName = module.manifest.name.toLowerCase();
        if (this.registry.has(moduleName)) {
            return Promise.reject(Errors_1.Errors.ModuleWithNameAlreadyRegistered);
        }
        return module.register().then(() => {
            this.registry.set(moduleName, module);
        });
    }
}
exports.ModuleManger = ModuleManger;
