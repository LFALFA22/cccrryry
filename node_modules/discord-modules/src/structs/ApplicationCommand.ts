import { SlashCommandBuilder } from "@discordjs/builders";
import { CommandInteraction } from "discord.js";

import { Module } from "@structs/Module";
import { SubCommand } from "@structs/SubCommand";

export interface ApplicationCommandOptions {
    data: SlashCommandBuilder;
}

export abstract class ApplicationCommand {
    protected constructor(
        public readonly module: Module,
        public readonly options: ApplicationCommandOptions
    ) {}

    abstract execute(interaction: CommandInteraction): Promise<void>;

    public addSubCommand(subcommand: SubCommand): void {
        this.options.data.addSubcommand(subcommand.options.data);
    }
}
